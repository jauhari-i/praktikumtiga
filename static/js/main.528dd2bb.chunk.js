(this.webpackJsonppraktikumtiga=this.webpackJsonppraktikumtiga||[]).push([[0],{16:function(e,a,t){e.exports=t(41)},21:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(15),m=t.n(c),r=(t(21),t(4)),o=t.n(r),i=t(5),s=t(1),d=t(3),u=t.n(d),p=(t(40),"https://api-tugas.herokuapp.com/v1/praktikum/tiga"),b=function(e){var a=e.data,t=e.setMessage,c=Object(n.useState)(""),m=Object(s.a)(c,2),r=m[0],d=m[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),f=E[0],g=E[1],v=Object(n.useState)(""),N=Object(s.a)(v,2),h=N[0],k=N[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),j=w[0],S=w[1],O=Object(n.useState)(""),x=Object(s.a)(O,2),I=x[0],M=x[1];Object(n.useEffect)((function(){d(a.nip),g(a.nama),k(a.alamat)}),[a]);var C=function(){var e=Object(i.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),S(!0),u.a.put("".concat(p,"/pegawai/").concat(a.uuid),{nip:r,nama:f,alamat:h}).then((function(e){t("SUKSESEDIT"),S(!1),window.jQuery((function(){window.jQuery("#editModal").modal("toggle")}))})).catch((function(e){e.response.data.errors&&M(e.response.data.errors[0].msg),S(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"modal fade",id:"editModal",tabIndex:"-1","aria-labelledby":"editModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"editModalLabel"},"Edit Pegawai"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),d(""),g(""),k(""),M("")},type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("form",{onSubmit:C},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"NIP"),l.a.createElement("input",{type:"number",className:r?"form-control":"form-control is-invalid",min:"0",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"nip",value:r,onChange:function(e){d(e.target.value)},disabled:!0}),l.a.createElement("div",{id:"exampleInputEmail1Feedback",className:"invalid-feedback"},"NIP tidak boleh kosong")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail2"},"Nama"),l.a.createElement("input",{type:"text",className:f?"form-control":"form-control is-invalid",id:"exampleInputEmail2","aria-describedby":"emailHelp",name:"nama",value:f,onChange:function(e){g(e.target.value)}}),l.a.createElement("div",{id:"exampleInputEmail2Feedback",className:"invalid-feedback"},"Nama tidak boleh kosong")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Alamat"),l.a.createElement("input",{type:"text",className:h?"form-control":"form-control is-invalid",name:"alamat",value:h,onChange:function(e){k(e.target.value)},id:"exampleInputPassword1"}),l.a.createElement("div",{id:"exampleInputPassword1Feedback",className:"invalid-feedback"},"Alamat tidak boleh kosong")),I?l.a.createElement("p",{className:"text-danger"},I):""),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Batal"),l.a.createElement("button",{disabled:j||!r||!f||!h,type:"submit",className:"btn btn-primary"},j?"Mengirim...":"Simpan"))))))},E=function(e){var a=e.setMessage,t=Object(n.useState)(""),c=Object(s.a)(t,2),m=c[0],r=c[1],d=Object(n.useState)(""),b=Object(s.a)(d,2),E=b[0],f=b[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),N=v[0],h=v[1],k=Object(n.useState)(!1),y=Object(s.a)(k,2),w=y[0],j=y[1],S=Object(n.useState)(!1),O=Object(s.a)(S,2),x=O[0],I=O[1],M=Object(n.useState)(""),C=Object(s.a)(M,2),D=C[0],P=C[1],F=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(!0),m||E||N?(I(!0),u.a.post("".concat(p,"/pegawai"),{nip:m,nama:E,alamat:N}).then((function(e){a("SUKSESEDIT"),I(!1),j(!1),r(""),f(""),h(""),window.jQuery((function(){window.jQuery("#addModal").modal("toggle")}))})).catch((function(e){e.response.data.errors&&P(e.response.data.errors[0].msg),I(!1),j(!1)}))):j(!0);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"modal fade",id:"addModal",tabIndex:"-1","aria-labelledby":"addModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"addModalLabel"},"Edit Pegawai"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),r(""),f(""),h(""),P("")},type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("form",{onSubmit:F},l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail1"},"NIP"),l.a.createElement("input",{type:"number",min:"0",className:w&&!m?"form-control is-invalid":"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"nip",value:m,onChange:function(e){r(e.target.value),P("")}}),l.a.createElement("div",{id:"exampleInputEmail1Feedback",className:"invalid-feedback"},"NIP tidak boleh kosong")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputEmail2"},"Nama"),l.a.createElement("input",{type:"text",className:w&&!E?"form-control is-invalid":"form-control",id:"exampleInputEmail2","aria-describedby":"emailHelp",name:"nama",value:E,onChange:function(e){f(e.target.value),P("")}}),l.a.createElement("div",{id:"exampleInputEmail2Feedback",className:"invalid-feedback"},"Nama tidak boleh kosong")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Alamat"),l.a.createElement("input",{type:"text",className:w&&!N?"form-control is-invalid":"form-control",name:"alamat",value:N,onChange:function(e){h(e.target.value),P("")},id:"exampleInputPassword1"}),l.a.createElement("div",{id:"exampleInputPassword1Feedback",className:"invalid-feedback"},"Alamat tidak boleh kosong")),D?l.a.createElement("p",{className:"text-danger"},D):""),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{onClick:function(e){e.preventDefault(),r(""),f(""),h(""),P("")},type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Batal"),l.a.createElement("button",{disabled:x,type:"submit",className:"btn btn-primary"},x?"Mengirim...":"Simpan"))))))},f=function(e){var a=e.data,t=e.setMessage,c=Object(n.useState)(!1),m=Object(s.a)(c,2),r=m[0],o=m[1];return l.a.createElement("div",{className:"modal fade",id:"deleteModal",tabIndex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"deleteModalLabel"},"Anda yakin ingin menghapus pegawai ini?"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Tidak"),l.a.createElement("button",{onClick:function(e){e.preventDefault(),o(!0),u.a.delete("".concat(p,"/pegawai/").concat(a.uuid)).then((function(e){t("SUKSESDEL"),o(!1),window.jQuery((function(){window.jQuery("#deleteModal").modal("toggle")}))})).catch((function(e){console.log(e),o(!1)}))},type:"button",className:"btn btn-primary"},r?"Menghapus...":"Ya")))))},g=function(){var e=Object(n.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],m=Object(n.useState)(!1),r=Object(s.a)(m,2),o=r[0],i=r[1],d=Object(n.useState)({}),g=Object(s.a)(d,2),v=g[0],N=g[1],h=Object(n.useState)(""),k=Object(s.a)(h,2),y=k[0],w=k[1];return Object(n.useEffect)((function(){i(!0),u.a.get("".concat(p,"/pegawai")).then((function(e){c(e.data.data.pegawai),i(!1)})).catch((function(e){c([]),i(!1)}))}),[i]),Object(n.useEffect)((function(){"SUKSESEDIT"!==y&&"SUKSESADD"!==y&&"SUKSESDEL"!==y||u.a.get("".concat(p,"/pegawai")).then((function(e){c(e.data.data.pegawai),w(""),N({}),i(!1)})).catch((function(e){c([]),w(""),N({}),i(!1)}))}),[y]),l.a.createElement("div",null,l.a.createElement("h1",{style:{textAlign:"center",marginTop:"1rem",textTransform:"uppercase"}},"tugas praktikum tiga"),l.a.createElement("p",{style:{textAlign:"center",marginTop:"1rem",textTransform:"uppercase"}},"Muhammad Irfan Jauhari"),o?l.a.createElement("div",{className:"spinner"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container table-responsive py-5"},l.a.createElement("div",{className:"row mb-3"},l.a.createElement("div",{className:"col-md-9"}),l.a.createElement("div",{className:"col-md-3"},l.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#addModal"},"Tambah Pegawai"))),l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"NIP"),l.a.createElement("th",{scope:"col"},"Nama"),l.a.createElement("th",{scope:"col"},"Alamat"),l.a.createElement("th",{scope:"col"},"Lainnya"))),l.a.createElement("tbody",null,t.map((function(e,a){return l.a.createElement("tr",{key:a+"pegawai"},l.a.createElement("th",{scope:"row"},e.nip),l.a.createElement("td",null,e.nama),l.a.createElement("td",null,e.alamat),l.a.createElement("td",null,l.a.createElement("div",{className:"row"},l.a.createElement("button",{className:"btn btn-sm btn-info ml-2 mx-2",onClick:function(a){a.preventDefault(),N(e)},"data-toggle":"modal","data-target":"#editModal"},"Edit"),l.a.createElement("button",{className:"btn btn-sm btn-danger mx-2",onClick:function(a){a.preventDefault(),N(e)},"data-toggle":"modal","data-target":"#deleteModal"},"Hapus"))))})))))),l.a.createElement(E,{setMessage:w}),l.a.createElement(b,{data:v,setMessage:w}),l.a.createElement(f,{data:v,setMessage:w}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.528dd2bb.chunk.js.map